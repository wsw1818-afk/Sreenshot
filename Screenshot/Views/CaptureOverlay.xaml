<Window x:Class="Screenshot.Views.CaptureOverlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="영역 선택"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Black"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Cursor="None"
        KeyDown="Window_KeyDown"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseMove="Window_MouseMove"
        MouseLeftButtonUp="Window_MouseLeftButtonUp">

    <Grid>
        <!-- 캡처된 화면 배경 -->
        <Image x:Name="BackgroundImage" Stretch="None" HorizontalAlignment="Left" VerticalAlignment="Top"/>

        <!-- 어두운 오버레이 (선택 영역 제외) -->
        <Rectangle x:Name="DimOverlay" Fill="#80000000"/>

        <!-- 커스텀 십자선 커서 -->
        <Canvas x:Name="CrosshairCanvas" IsHitTestVisible="False">
            <!-- 가로선 (흰색 + 검은 테두리) -->
            <Line x:Name="CrosshairHorizontalBg" Stroke="Black" StrokeThickness="3" IsHitTestVisible="False"/>
            <Line x:Name="CrosshairHorizontal" Stroke="White" StrokeThickness="1" IsHitTestVisible="False"/>
            <!-- 세로선 (흰색 + 검은 테두리) -->
            <Line x:Name="CrosshairVerticalBg" Stroke="Black" StrokeThickness="3" IsHitTestVisible="False"/>
            <Line x:Name="CrosshairVertical" Stroke="White" StrokeThickness="1" IsHitTestVisible="False"/>
            <!-- 중앙 원형 표시 -->
            <Ellipse x:Name="CrosshairCenter" Width="6" Height="6" Stroke="White" StrokeThickness="1" Fill="Transparent" IsHitTestVisible="False"/>
        </Canvas>

        <!-- 선택 영역 캔버스 -->
        <Canvas x:Name="SelectionCanvas">
            <!-- 선택 사각형 -->
            <Border x:Name="SelectionBorder"
                    BorderBrush="#0078d4"
                    BorderThickness="2"
                    Background="Transparent"
                    Visibility="Collapsed">
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="5" Opacity="0.5" ShadowDepth="0"/>
                </Border.Effect>
            </Border>

            <!-- 크기 표시 레이블 -->
            <Border x:Name="SizeLabel"
                    Background="#cc000000"
                    CornerRadius="4"
                    Padding="8,4"
                    Visibility="Collapsed">
                <TextBlock x:Name="SizeText"
                           Foreground="White"
                           FontSize="12"
                           FontFamily="Consolas"/>
            </Border>
        </Canvas>

        <!-- 안내 텍스트 -->
        <Border x:Name="HelpPanel"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="#cc1e1e1e"
                Padding="30,20"
                CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="20" Opacity="0.5" ShadowDepth="0"/>
            </Border.Effect>

            <StackPanel>
                <TextBlock Text="드래그하여 캡처할 영역을 선택하세요"
                           Foreground="White"
                           FontSize="18"
                           HorizontalAlignment="Center"/>

                <TextBlock Text="ESC: 취소  |  Enter: 전체 화면 캡처"
                           Foreground="#888888"
                           FontSize="12"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
